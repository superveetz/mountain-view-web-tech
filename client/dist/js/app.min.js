"use strict";!function(e){e.module("app",["smoothScroll","firebase","ui.router","ui.bootstrap","ui.validate","ngAnimate","app.controllers","app.directives","app.services","canvas-raining","ngResource","lbServices","angulartics","angulartics.google.analytics"]).run(["$rootScope","$state","$window","$firebaseAuth","$location","$anchorScroll","$timeout",function(e,t,r,o,n,i,s){e.$state=t,e.CurrentUser=void 0,o().$onAuthStateChanged(function(t){e.CurrentUser=t||void 0}),e.$on("$stateChangeStart",function(t,r,o,n,i){if(e.stateChangeOccuring)return t.preventDefault();e.stateChangeOccuring=!0}),e.$on("$stateChangeSuccess",function(t,r,o,a,l){n.hash(a.name),i(),n.hash(""),s(function(){e.stateChangeOccuring=!1},500)})}]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,r){r.html5Mode({enabled:!0,requireBase:!0}),t.otherwise("404"),e.state("app",{abstract:!0,url:"",templateUrl:"/views/index.html",controller:["$rootScope",function(e){}]}).state("app.home",{url:"/",templateUrl:"/views/home/index.html"}).state("app.about",{url:"/about",templateUrl:"/views/about/index.html"}).state("app.services",{url:"/services",templateUrl:"/views/services/index.html"}).state("app.contact",{url:"/contact",templateUrl:"/views/contact/index.html",controller:"ContactCtrl"}).state("404",{url:"/404",templateUrl:"/views/404/index.html"})}])}(angular),function(e){e.module("app.controllers",["app.services"]).controller("MainNavCtrl",["$rootScope","$scope","$firebaseAuth","$http","$window","$state","$timeout","ModalService","AlertService",function(e,t,r,o,n,i,s,a,l){t.authObj=r(),t.openRegisterAccountModal=function(e){l.reset(),e?(t.closeMobileSideNav(),s(function(){a.openRegisterAccountModal()},300)):a.openRegisterAccountModal()},t.openLoginModal=function(e){l.reset(),e?(t.closeMobileSideNav(),s(function(){a.openLoginModal()},300)):a.openLoginModal()},t.showGettingStarted=!1,t.toggleGettingStarted=function(){return t.showGettingStarted=!t.showGettingStarted,!0},t.showAccountOptions=!1,t.toggleAccountOptions=function(){return t.showAccountOptions=!t.showAccountOptions,!0},t.logOut=function(){return t.authObj.$signOut(),!0},t.closeMobileSideNav=function(){return $("#mobile-side-nav").offcanvas("hide"),!0},t.openMobileSideNav=function(){return $("#mobile-side-nav").offcanvas("show"),!0}}]).controller("LoginCtrl",["$rootScope","$firebaseAuth","$scope","$http","$window","$uibModalInstance","AlertService",function(t,r,o,n,i,s,a,l){var c={email:"",pass:"",cPass:""},u={loginErr:!1,signUpErr:!1};o.serverResponse=e.copy(u),o.authObj=r(),o.newUser=e.copy(c),o.existingUser=e.copy(c),o.submitSignUpForm=function(){o.signUpSubmit=!0,o.authObj.$createUserWithEmailAndPassword(o.newUser.email,o.newUser.pass).then(function(e){o.signUpSubmit=!1,o.closeModal()}).catch(function(e){o.signUpSubmit=!1,a.setAlert({show:!0,type:"error",title:e.message})})},o.submitLoginForm=function(){o.loginSubmit=!0,o.authObj.$signInWithEmailAndPassword(o.existingUser.email,o.existingUser.pass).then(function(e){o.loginSubmit=!1,o.closeModal()}).catch(function(e){o.loginSubmit=!1,a.setAlert({show:!0,type:"error",title:e.message})})},o.loginWithFacebook=function(){o.fbSubmit=!0,o.authObj.$signInWithPopup("facebook").then(function(e){o.fbSubmit=!1,o.closeModal()}).catch(function(e){o.fbSubmit=!1,a.setAlert({show:!0,type:"error",title:e.message})})},o.loginWithTwitter=function(){o.twitSubmit=!0,o.authObj.$signInWithPopup("twitter").then(function(e){o.twitSubmit=!1,o.closeModal()}).catch(function(e){o.twitSubmit=!1,a.setAlert({show:!0,type:"error",title:e.message})})},o.loginWithGoogle=function(){o.googSubmit=!0,o.authObj.$signInWithPopup("google").then(function(e){o.googSubmit=!1,o.closeModal()}).catch(function(e){o.googSubmit=!1,a.setAlert({show:!0,type:"error",title:e.message})})},o.closeModal=function(){s.dismiss("cancel")},o.isPassConfirmed=function(e){return e.signUpForm.newUserPass.$$rawModelValue===e.signUpForm.newUserCPass.$$rawModelValue}}]).controller("MainFooterCtrl",["$scope","$document","$location","$state","smoothScroll",function(e,t,r,o,n){}]).controller("AppCtrl",["$rootScope","$state",function(e,t){}]).controller("ContactCtrl",["$scope","$http","AlertService","Mail",function(t,r,o,n){var i={name:"",email:"",phone:"",subject:"",message:""},s={loginErr:!1,signUpErr:!1};t.user=e.copy(i),t.serverResponse=e.copy(s),t.sendEmail=function(){t.submitSendEmail=!0,n.create({name:t.user.name,email:t.user.email,phone:t.user.phone,subject:t.user.subject,message:t.user.message}).$promise.then(function(r){t.submitSendEmail=!1,t.user=e.copy(i),t.contactForm.$setPristine(),t.contactForm.$setUntouched(),o.setAlert({show:!0,type:"success",title:"We have received your request and will get back to you as soon as we can."})}).catch(function(e){t.submitSendEmail=!1,o.setAlert({show:!0,type:"error",title:"An unexpected error occured."})})}}])}(angular),function(e){e.module("app.directives",["app.controllers"]).directive("mainNav",[function(){return{restrict:"E",replace:!0,templateUrl:"/js/directives/templates/main-nav/main-nav.html",controller:"MainNavCtrl"}}]).directive("mainFooter",[function(){return{restrict:"E",replace:!0,templateUrl:"/js/directives/templates/main-footer/main-footer.html",controller:"MainFooterCtrl"}}]).directive("alertBox",["AlertService",function(e){return{restrict:"E",templateUrl:function(e,t){return t.theme?"/js/directives/templates/alert-box/"+t.theme+".html":"/js/directives/templates/alert-box/default.html"},link:function(t){t.AlertService=e}}}]).directive("hideNavOnScroll",[function(){return{restrict:"A",link:function(t,r){var o=document.getElementById("top-nav"),n=e.element(o),i=r.scrollTop(),s=!1;r.bind("scroll",function(e){var t=r.scrollTop();t>i?s||n.hasClass("slideOutUp")||(n.hasClass("slideInDown")&&n.removeClass("slideInDown"),n.addClass("slideOutUp"),s=!0,setTimeout(function(){s=!1},500)):s||n.hasClass("slideInDown")||(n.hasClass("slideOutUp")&&n.removeClass("slideOutUp"),n.addClass("slideInDown"),s=!0,setTimeout(function(){s=!1},500)),t<=50&&(n.hasClass("slideInDown")||(n.hasClass("slideOutUp")&&n.removeClass("slideOutUp"),n.addClass("slideInDown"),s=!0,setTimeout(function(){s=!1},500))),i=r.scrollTop()})}}}]).directive("scrollDisabled",["$window","$timeout",function(t,r){return{restrict:"A",link:function(o,n){var i=e.element(t);n.on("show.bs.offcanvas",function(){var t=document.getElementsByTagName("body")[0],o=document.getElementsByTagName("html")[0],n=document.getElementById("app"),i=e.element(t),s=e.element(o);e.element(n);i.addClass("body-scroll-disabled"),s.addClass("html-scroll-disabled"),r(function(){i.ontouchmove=function(e){e.preventDefault()},n.ontouchmove=function(e){e.preventDefault()}},300)}),n.on("hide.bs.offcanvas",function(){var t=document.getElementsByTagName("body")[0],o=document.getElementsByTagName("html")[0],n=e.element(t),s=e.element(o);r(function(){i.scrollTop(400),n.removeClass("body-scroll-disabled"),s.removeClass("html-scroll-disabled"),n.ontouchmove=function(e){return!0},app.ontouchmove=function(e){return!0}},300)})}}}]).directive("fadeInOnLoad",["$timeout",function(e){return{restrict:"A",link:function(e,t,r){t.addClass("animated fadeIn")}}}])}(angular),function(e){e.module("app.services",["app.controllers"]).service("ModalService",["$uibModal","$timeout",function(e,t){return{openRegisterAccountModal:function(){e.open({animation:!0,ariaLabelledBy:"register-account-title",ariaDescribedBy:"register-account-body",templateUrl:"register-account-modal.html",controller:"RegisterAccountCtrl",backdrop:!0,size:"md"}).result.then(function(e){}).catch(function(e){})},openLoginModal:function(){e.open({animation:!0,ariaLabelledBy:"login-title",ariaDescribedBy:"login-body",templateUrl:"login-modal.html",controller:"LoginCtrl",backdrop:!0,size:"md"}).result.then(function(e){}).catch(function(e){})}}}]).service("AlertService",["$timeout",function(t){var r={show:!1,type:"success"};return{showAlert:function(){return r.show=!0,!0},hideAlert:function(){return r.show=!1,!0},hasAlert:function(){return r.show},reset:function(){return r={},!0},setAlert:function(t){return r=e.copy(t),"error"==r.type&&r.slimErr&&(r.errList=[],r.title=r.slimErr&&r.slimErr.data&&r.slimErr.data.exception&&r.slimErr.data.exception[0]&&r.slimErr.data.exception[0].message?r.slimErr.data.exception[0].message:"Error"),!0},getAlert:function(){return r}}}])}(angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="lbServices"),function(e,t,r){function o(e){var t=e.match(/^(?:https?:)?\/\/([^\/]+)/);return t?t[1]:null}var n="/api",i="authorization",s=o(n)||location.host,a=t.module("lbServices",["ngResource"]);a.factory("Person",["LoopBackResource","LoopBackAuth","$injector","$q",function(e,t,r,o){var i=e(n+"/People/:id",{id:"@id"},{prototype$__findById__accessTokens:{params:{fk:"@fk"},url:n+"/People/:id/accessTokens/:fk",method:"GET"},prototype$__destroyById__accessTokens:{params:{fk:"@fk"},url:n+"/People/:id/accessTokens/:fk",method:"DELETE"},prototype$__updateById__accessTokens:{params:{fk:"@fk"},url:n+"/People/:id/accessTokens/:fk",method:"PUT"},prototype$__get__accessTokens:{isArray:!0,url:n+"/People/:id/accessTokens",method:"GET"},prototype$__create__accessTokens:{url:n+"/People/:id/accessTokens",method:"POST"},prototype$__delete__accessTokens:{url:n+"/People/:id/accessTokens",method:"DELETE"},prototype$__count__accessTokens:{url:n+"/People/:id/accessTokens/count",method:"GET"},create:{url:n+"/People",method:"POST"},createMany:{isArray:!0,url:n+"/People",method:"POST"},upsert:{url:n+"/People",method:"PUT"},replaceOrCreate:{url:n+"/People/replaceOrCreate",method:"POST"},upsertWithWhere:{url:n+"/People/upsertWithWhere",method:"POST"},exists:{url:n+"/People/:id/exists",method:"GET"},findById:{url:n+"/People/:id",method:"GET"},replaceById:{url:n+"/People/:id/replace",method:"POST"},find:{isArray:!0,url:n+"/People",method:"GET"},findOne:{url:n+"/People/findOne",method:"GET"},updateAll:{url:n+"/People/update",method:"POST"},deleteById:{url:n+"/People/:id",method:"DELETE"},count:{url:n+"/People/count",method:"GET"},prototype$updateAttributes:{url:n+"/People/:id",method:"PUT"},createChangeStream:{url:n+"/People/change-stream",method:"POST"},login:{params:{include:"user"},interceptor:{response:function(e){var r=e.data;return t.setUser(r.id,r.userId,r.user),t.rememberMe=!1!==e.config.params.rememberMe,t.save(),e.resource}},url:n+"/People/login",method:"POST"},logout:{interceptor:{response:function(e){return t.clearUser(),t.clearStorage(),e.resource},responseError:function(e){return t.clearUser(),t.clearStorage(),e.resource}},url:n+"/People/logout",method:"POST"},confirm:{url:n+"/People/confirm",method:"GET"},resetPassword:{url:n+"/People/reset",method:"POST"},getCurrent:{url:n+"/People/:id",method:"GET",params:{id:function(){var e=t.currentUserId;return null==e&&(e="__anonymous__"),e}},interceptor:{response:function(e){return t.currentUserData=e.data,e.resource},responseError:function(e){return t.clearUser(),t.clearStorage(),o.reject(e)}},__isGetCurrentUser__:!0}});return i.patchOrCreate=i.upsert,i.updateOrCreate=i.upsert,i.patchOrCreateWithWhere=i.upsertWithWhere,i.update=i.updateAll,i.destroyById=i.deleteById,i.removeById=i.deleteById,i.patchAttributes=i.prototype$updateAttributes,i.getCachedCurrent=function(){var e=t.currentUserData;return e?new i(e):null},i.isAuthenticated=function(){return null!=this.getCurrentId()},i.getCurrentId=function(){return t.currentUserId},i.modelName="Person",i}]),a.factory("Mail",["LoopBackResource","LoopBackAuth","$injector","$q",function(e,t,r,o){var i=e(n+"/Mails/:id",{id:"@id"},{create:{url:n+"/Mails",method:"POST"},createMany:{isArray:!0,url:n+"/Mails",method:"POST"},upsert:{url:n+"/Mails",method:"PUT"},replaceOrCreate:{url:n+"/Mails/replaceOrCreate",method:"POST"},upsertWithWhere:{url:n+"/Mails/upsertWithWhere",method:"POST"},exists:{url:n+"/Mails/:id/exists",method:"GET"},findById:{url:n+"/Mails/:id",method:"GET"},replaceById:{url:n+"/Mails/:id/replace",method:"POST"},find:{isArray:!0,url:n+"/Mails",method:"GET"},findOne:{url:n+"/Mails/findOne",method:"GET"},updateAll:{url:n+"/Mails/update",method:"POST"},deleteById:{url:n+"/Mails/:id",method:"DELETE"},count:{url:n+"/Mails/count",method:"GET"},prototype$updateAttributes:{url:n+"/Mails/:id",method:"PUT"},createChangeStream:{url:n+"/Mails/change-stream",method:"POST"}});return i.patchOrCreate=i.upsert,i.updateOrCreate=i.upsert,i.patchOrCreateWithWhere=i.upsertWithWhere,i.update=i.updateAll,i.destroyById=i.deleteById,i.removeById=i.deleteById,i.patchAttributes=i.prototype$updateAttributes,i.modelName="Mail",i}]),a.factory("Gmail",["LoopBackResource","LoopBackAuth","$injector","$q",function(e,t,r,o){var i=e(n+"/Gmails/:id",{id:"@id"},{});return i.modelName="Gmail",i}]),a.factory("LoopBackAuth",function(){function e(){var e=this;o.forEach(function(t){e[t]=r(t)}),this.currentUserData=null}function t(e,t,r){try{var o=n+t;null==r&&(r=""),e[o]=r}catch(e){console.log("Cannot access local/session storage:",e)}}function r(e){var t=n+e;return localStorage[t]||sessionStorage[t]||null}var o=["accessTokenId","currentUserId","rememberMe"],n="$LoopBack$";return e.prototype.save=function(){var e=this,r=this.rememberMe?localStorage:sessionStorage;o.forEach(function(o){t(r,o,e[o])})},e.prototype.setUser=function(e,t,r){this.accessTokenId=e,this.currentUserId=t,this.currentUserData=r},e.prototype.clearUser=function(){this.accessTokenId=null,this.currentUserId=null,this.currentUserData=null},e.prototype.clearStorage=function(){o.forEach(function(e){t(sessionStorage,e,null),t(localStorage,e,null)})},new e}).config(["$httpProvider",function(e){e.interceptors.push("LoopBackAuthRequestInterceptor")}]).factory("LoopBackAuthRequestInterceptor",["$q","LoopBackAuth",function(e,t){return{request:function(r){var n=o(r.url);if(n&&n!==s)return r;if(t.accessTokenId)r.headers[i]=t.accessTokenId;else if(r.__isGetCurrentUser__){var a={body:{error:{status:401}},status:401,config:r,headers:function(){}};return e.reject(a)}return r||e.when(r)}}}]).provider("LoopBackResource",function(){this.setAuthHeader=function(e){i=e},this.getAuthHeader=function(){return i},this.setUrlBase=function(e){n=e,s=o(n)||location.host},this.getUrlBase=function(){return n},this.$get=["$resource",function(e){var t=function(t,r,o){var n=e(t,r,o);return n.prototype.$save=function(e,t){var r=n.upsert.call(this,{},this,e,t);return r.$promise||r},n};return t.getUrlBase=function(){return n},t.getAuthHeader=function(){return i},t}]})}(window,window.angular),function(e){e.module("canvas-raining",[]).directive("canvasRaining",["$interval",function(e){return{restrict:"A",link:function(t,r){r.ready(function(){function t(){n.clearRect(0,0,i,s);for(var e=0;e<c.length;e++){var t=c[e];n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(t.x+t.l*t.xs,t.y+t.l*t.ys),n.stroke()}o()}function o(){for(var e=0;e<c.length;e++){var t=c[e];t.x+=t.xs+d*(20*Math.random()),t.y+=t.ys,(t.x>i||t.y>s)&&(t.x=Math.random()*i,t.y=-20)}}var n=r[0].getContext("2d"),i=r.width(),s=r.height();n.strokeStyle="rgba(174,194,224,0.5)",n.lineWidth=.5,n.lineCap="round",n.globalCompositeOperation="destination-over";for(var a=[],l=0;l<2e3;l++)a.push({x:Math.random()*i,y:Math.random()*s,l:1*Math.random(),xs:4*Math.random()-4+2,ys:10*Math.random()+5});for(var c=[],u=0;u<2e3;u++)c[u]=a[u];e(t,60);var d=0;r.bind("mousemove",function(e){d=e.clientX/r.width()-.5})})}}}])}(angular),function(e){e.module("canvas-raining",[]).directive("canvasRaining",["$interval","CanvasSystem",function(e,t){return{restrict:"A",link:function(e,t){t.ready(function(){})}}}]).factory("CanvasSystem",[function(){var e=function(e){this.ctx=e[0].getContext("2d"),this.w=e.width(),this.h=e.height(),this.x=0,this.y=0,console.log("this.ctx:",this.ctx)};return e.prototype.draw=function(){this.x+=1,this.y+=1,console.log("this:",this),this.ctx.fillStyle="#000",this.ctx.fillRect(0,0,this.w,this.h),this.ctx.fillStyle="#ffffff",this.ctx.beginPath(),this.ctx.arc(this.x,this.y,10,0,2*Math.PI,!1),this.ctx.closePath(),this.ctx.fill(),requestAnimationFrame(this.draw)},e}])}(angular);